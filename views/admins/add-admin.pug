extends ../core/dashboard-layout

block body
    link(href="/stylesheets/select2.min.css" rel="stylesheet")
    script(src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js")
    script.
        $(document).ready(function () {
            $('#checkAll').change(function () {
                $('input:checkbox').prop('checked', this.checked);
            });
        });
    #error
        if error
            div.alert.alert-danger
                p #{error}
    section#team.col-12.container.pt-5
        div.text-start.col-lg-10
            - var h1Classes = ['h3', 'mb-3', 'font-weight-normal']
            h1(class=h1Classes) New Admin
            form(class="form-add-project" method="POST" action="/admin/admins/processing/add")
                #sucess
                    if success
                        div.alert.alert-success
                            p.text-success Admin added successfully.

                .admin.form-group
                    label(for="inputAdmin" class="control-label") Admin
                    .input-group
                        select(id="inputAdmin" name="admin" class=["form-control", "custom-select", "select2"])
                            option(value="null") select admin
                            for admin in employees
                                - var photo = admin.photo ? '/profiles-files/'+admin.photo : '/images/employee.png';
                                option(data-img_src=`${photo}` value=`${admin.id}`) #{admin.name}
                .managers-list#admins-list.list-group.mt-3
                .roles.form-row
                    .form-group.mt-3.col-12
                        .custom-control.custom-checkbox
                            input(type="checkbox" class="custom-control-input" id="checkAll")
                            label(class=["custom-control-label" , "text-success"] for="checkAll") checkAll
                    .form-group.mt-3.col-6
                        .custom-control.custom-checkbox
                            input(type="checkbox" class="custom-control-input" id="dashboard" name="dashboard")
                            label(class="custom-control-label" for="dashboard") dashboard
                    .form-group.mt-3.col-6
                        .custom-control.custom-checkbox
                            input(type="checkbox" class="custom-control-input" id="add-project" name="add-project")
                            label(class="custom-control-label" for="add-project") add-project
                    .form-group.mt-3.col-6
                        .custom-control.custom-checkbox
                            input(type="checkbox" class="custom-control-input" id="projects" name="projects")
                            label(class="custom-control-label" for="projects") projects
                    .form-group.mt-3.col-6
                        .custom-control.custom-checkbox
                            input(type="checkbox" class="custom-control-input" id="employees" name="employees")
                            label(class="custom-control-label" for="employees") employees
                    .form-group.mt-3.col-6
                        .custom-control.custom-checkbox
                            input(type="checkbox" class="custom-control-input" id="add-employee" name="add-employee")
                            label(class="custom-control-label" for="add-employee") add-employee
                    .form-group.mt-3.col-6
                        .custom-control.custom-checkbox
                            input(type="checkbox" class="custom-control-input" id="view-project" name="view-project")
                            label(class="custom-control-label" for="view-project") view-project
                    .form-group.mt-3.col-6
                        .custom-control.custom-checkbox
                            input(type="checkbox" class="custom-control-input" id="suppliers" name="suppliers")
                            label(class="custom-control-label" for="suppliers") suppliers
                    .form-group.mt-3.col-6
                        .custom-control.custom-checkbox
                            input(type="checkbox" class="custom-control-input" id="add-supplier" name="add-supplier")
                            label(class="custom-control-label" for="add-supplier") add-supplier
                    .form-group.mt-3.col-6
                        .custom-control.custom-checkbox
                            input(type="checkbox" class="custom-control-input" id="contractors" name="contractors")
                            label(class="custom-control-label" for="contractors") contractors
                    .form-group.mt-3.col-6
                        .custom-control.custom-checkbox
                            input(type="checkbox" class="custom-control-input" id="add-contractor" name="add-contractor")
                            label(class="custom-control-label" for="add-contractor") add-contractor
                    .form-group.mt-3.col-6
                        .custom-control.custom-checkbox
                            input(type="checkbox" class="custom-control-input" id="remove-contractor" name="remove-contractor")
                            label(class="custom-control-label" for="remove-contractor") remove-contractor
                    .form-group.mt-3.col-6
                        .custom-control.custom-checkbox
                            input(type="checkbox" class="custom-control-input" id="view-contractor" name="view-contractor")
                            label(class="custom-control-label" for="view-contractor") view-contractor
                    .form-group.mt-3.col-6
                        .custom-control.custom-checkbox
                            input(type="checkbox" class="custom-control-input" id="view-supplier" name="view-supplier")
                            label(class="custom-control-label" for="view-supplier") view-supplier
                    .form-group.mt-3.col-6
                        .custom-control.custom-checkbox
                            input(type="checkbox" class="custom-control-input" id="remove-supplier" name="remove-supplier")
                            label(class="custom-control-label" for="remove-supplier") remove-supplier
                    .form-group.mt-3.col-6
                        .custom-control.custom-checkbox
                            input(type="checkbox" class="custom-control-input" id="remove-employee" name="remove-employee")
                            label(class="custom-control-label" for="remove-employee") remove-employee
                    .form-group.mt-3.col-6
                        .custom-control.custom-checkbox
                            input(type="checkbox" class="custom-control-input" id="remove-project" name="remove-project")
                            label(class="custom-control-label" for="remove-project") remove-project
                    .form-group.mt-3.col-6
                        .custom-control.custom-checkbox
                            input(type="checkbox" class="custom-control-input" id="remove-admin" name="remove-admin")
                            label(class="custom-control-label" for="remove-admin") remove-admin
                    .form-group.mt-3.col-6
                        .custom-control.custom-checkbox
                            input(type="checkbox" class="custom-control-input" id="add-admin" name="add-admin")
                            label(class="custom-control-label" for="add-admin") add-admin
                    .form-group.mt-3.col-6
                        .custom-control.custom-checkbox
                            input(type="checkbox" class="custom-control-input" id="admins" name="admins")
                            label(class="custom-control-label" for="admins") admins
                    .form-group.mt-3.col-6
                        .custom-control.custom-checkbox
                            input(type="checkbox" class="custom-control-input" id="notifications" name="notifications")
                            label(class="custom-control-label" for="notifications") notifications
                    .form-group.mt-3.col-6
                        .custom-control.custom-checkbox
                            input(type="checkbox" class="custom-control-input" id="add-notification" name="add-notification")
                            label(class="custom-control-label" for="add-notification") add-notification
                    .form-group.mt-3.col-6
                        .custom-control.custom-checkbox
                            input(type="checkbox" class="custom-control-input" id="todo" name="todo")
                            label(class="custom-control-label" for="todo") todo
                    .form-group.mt-3.col-6
                        .custom-control.custom-checkbox
                            input(type="checkbox" class="custom-control-input" id="add-todo" name="add-todo")
                            label(class="custom-control-label" for="add-todo") add-todo
                .save
                - var buttonClass=['btn', 'btn-lg', 'btn-primary', 'mt-3' ,  'btn-block'];
                    button(class=buttonClass type="submit") save


        - var pClasses=['mt-5', 'mb-3', 'text-muted'];
            p(class=pClasses) Â© 2017-2018
    #alertModal.modal.fade(tabindex='-1' role='dialog' aria-labelledby='alertModalLabel' aria-hidden='true')
        .modal-dialog(role='document')
            .modal-content
                .modal-header
                    h5#alertModalLabel.modal-title Error !!
                    button.close(type='button' data-dismiss='modal' aria-label='Close')
                        span(aria-hidden='true') &times;
                .modal-body
                    | please , choose admin.
                .modal-footer
                    button.btn.btn-secondary(type='button' data-dismiss='modal') Close


    script.
        function custom_template(obj) {
            var data = $(obj.element).data();
            var text = $(obj.element).text();
            if (data && data['img_src']) {
                img_src = data['img_src'];
                template = $("<div style='margin-right:0!important;margin-left: 0!important; ' class='row'><img class='col-1 img-fluid' src=\"" + img_src + "\" /><p style=\"font-weight: 700;font-size:14pt;text-align:center;\">" + text + "</p></div>");
                return template;
            }
        }
        var options = {
            //'templateSelection': custom_template,
            'templateResult': custom_template,
        }
        $('.select2').select2(options);

        function custom_template6(obj) {
            var data = $(obj.element).data();
            var text = $(obj.element).text();
            if (data && data['img_src']) {
                img_src = data['img_src'];
                template = $("<div style='margin-right:0!important;margin-left: 0!important; ' class='row'><img class='col-3 img-fluid' src=\"" + img_src + "\" /><p style=\"font-weight: 700;font-size:14pt;text-align:center;\">" + text + "</p></div>");
                return template;
            }
        }
        var options6 = {
            //'templateSelection': custom_template,
            'templateResult': custom_template6,
        }
        $('.select2-6').select2(options6);
